/* ==UserStyle==
@name           Youtube Acrylic Menus / Youtube Blurred Menus
@namespace      github.com/openstyles/stylus
@description    Add translucency to most menus that pop up on youtube.
@author         Benzeel
@license        GNU GPLv3
@version        10
@homepageURL    https://github.com/Benzeel/Youtube-Acrylic-Menus
@supportURL     https://github.com/Benzeel/Youtube-Acrylic-Menus/issues
@preprocessor stylus

@var color menubg         'Color & Transparency | Notifs & Account & Create:'  					 #242424a1
@var color menubg2        'Color & Transparency | Menus & Dropdowns:'          					 #242424a1
@var color sharebg        'Color & Transparency | Share Popup:'             					 #282828a1
@var color sharebg2       'Color & Transparency | Share URL Bar:'            					 #00000063
@var color search         'Color & Transparency | Search Suggestions:'       					 #222222bd
@var color sidebarbg      'Color & Transparency | Sidebar:'                   					 #0d0d0dbf
@var color mpbg           'Color & Transparency | Miniplayer:'                 					 #222222bf
@var color mpbg2          'Color & Transparency | Miniplayer Playlist Header:' 					 #22222263
@var color mpbg3          'Color & Transparency | Miniplayer Playlist Body:'   					 #141414ab
@var color mpplselc       'Color & Transparency | Miniplayer Playlist Video Selected:'  		 #ffffff3b
@var color mpplselct      'Color & Transparency | Miniplayer Playlist Video Selected Text:'   	 #fff
@var color mpplselca      'Color & Transparency | Miniplayer Playlist Video Selected Arrow:'   	 #fff

@var number nablur        'Blur | Notification & Account Dropdown:'           					 [35, "px"]
@var number csblur        'Blur | Comment Sorting Dropdown:'                  					 [15, "px"]
@var number ssblur        'Blur | Search Suggestions:'                         					 [35, "px"]
@var number ddblur        'Blur | Menus & Dropdowns:'                         					 [20, "px"]
@var number smblur        'Blur | Share Menu:'                                					 [25, "px"]
@var number sbblur        'Blur | Sidebar:'                                   					 [15, "px"]
@var number blurfxamount  'Blur | Player Controls:'                           					 [5,  "px"]
@var number blurstamount  'Blur | Player Settings Popup:'                     					 [15, "px"]
@var number mpblur        'Blur | miniplayer:'                                 					 [20, "px"]
@var number pttblur       'Blur | Player Tooltip Blur:'                                 		 [3, "px"]

@var checkbox checkfix    'Fix Verified Check Having a Background:'                              1
@var checkbox scrim       'Screen Darkening When Opening Sidebar:'                               0
@var checkbox blurfix     'Fix Player Controls not having blur:'                                 1
@var checkbox mpplborder  'Remove Miniplayer Playlist Border:'                                   1
@var checkbox mpplsel     'Enable Theming for Miniplayer Playlist Selected Video Overlay:'       1
@var checkbox enpttblur   'Enable Experimental Tooltip Blurring:'                                1

==/UserStyle== */
@-moz-document domain("www.youtube.com") {

/*Bug Tracker: https://github.com/Benzeel/Youtube-Acrylic-Menus/issues*/


/*account, notification and account switching menu theming*/
ytd-multi-page-menu-renderer.style-scope.ytd-popup-container {
        backdrop-filter: blur(nablur);
        background: menubg !important;
}

        .ytd-multi-page-menu-renderer {
              background: none;
              background-color: none;
        }
       
/*sidebar theming*/ 
div#guide-content.style-scope.ytd-app {
    background: none;
}
        div#contentContainer.style-scope.tp-yt-app-drawer {
           background: sidebarbg !important;
           backdrop-filter: blur(sbblur);
        }
        /*disable screen darkening when opening/closing sidebar*/
            #scrim.visible.tp-yt-app-drawer {
        	    opacity: scrim;
          }

/*dropdown theming*/
.ytContextualSheetLayoutHost, ytd-menu-popup-renderer.style-scope {
    background-color: menubg2 !important;
    backdrop-filter: blur(ddblur);
}
        /*comment sorting dropdown */
        tp-yt-paper-listbox.yt-dropdown-menu {
           background: menubg2 !important;
           backdrop-filter: blur(csblur);
        }
		/*chat hamburger menu blur*/
		tp-yt-iron-dropdown.yt-live-chat-app ytd-menu-popup-renderer {
			backdrop-filter: blur(ddblur);
		}
/*share menu*/
tp-yt-paper-dialog.style-scope {
    background: sharebg !important;
    backdrop-filter: blur(smblur)
}
    /*link bar transparency*/
    div#bar.style-scope.yt-copy-link-renderer {
    background: sharebg2 !important;
    }

/*search popover styling*/
.ytSearchboxComponentSuggestionsContainerScrollable {
    background: search !important;
    backdrop-filter: blur(ssblur);
}

/*chat top fans info popup*/
#inner.yt-live-chat-dialog-renderer {
	background: menubg2;
	backdrop-filter: blur(ddblur);
}

/*miniplayer infobar*/
.ytdMiniplayerInfoBarHost {
	background: none;
	}
		.ytdMiniplayerComponentContent {
			backdrop-filter: blur(mpblur);
  		    background: mpbg; 
		}
		.header.ytd-playlist-panel-renderer {
			background: mpbg2;
		}
		.playlist-items.ytd-playlist-panel-renderer {
      		background: mpbg3;
}
/* -------- Patches and Fixes ---------- */

/*create clip help/info + discard clip popup*/
yt-confirm-dialog-renderer[dialog][dialog][dialog]{
	background: none;
}
/*report popup*/
ytd-engagement-panel-section-list-renderer[dialog] #content.ytd-engagement-panel-section-list-renderer {
	background: none;
}
/*channel info theming fix*/
#header.ytd-engagement-panel-title-header-renderer {
	background: none;
}
/*channel unsubscribe popup fix*/
yt-confirm-dialog-renderer.style-scope.ytd-popup-container {
	background: none;
}
/* collaborators popup fix */
dialog-layout.yt-spec-dialog-layout.yt-spec-dialog-layout--dialog-layout-responsive {
	background: none;
}
/* remove channel checkmark background */
if checkfix {
    badge-shape.yt-badge-shape.yt-badge-shape--default.yt-badge-shape--no-text.yt-badge-shape--typography {
      background: none;
    }
}
/*fix player controls not having backdrop blurring*/
if blurfix {
        .ytp-chrome-bottom {
        --yt-frosted-glass-backdrop-filter-override: blur(blurfxamount);
        }
        #ytp-id-7 {
        --yt-frosted-glass-backdrop-filter-override: blur(blurstamount);
        }
 		.ytPlayerQuickActionButtonsHostDisableBackdropFilter:not(:empty) {
		backdrop-filter: blur(blurfxamount);
		}		
		.ytp-fullscreen-grid-expand-button {
		backdrop-filter: blur(blurfxamount);
		}
}

/*Experimental player Tooltip Blur*/
if enpttblur {
		.ytp-delhi-modern .ytp-tooltip:not(.ytp-preview) .ytp-tooltip-bottom-text,
		.yte-button-tooltip.ytp-tooltip.ytp-bottom {
			border-radius: 8px;
			backdrop-filter: blur(pttblur) !important;
		}
		.ytp-delhi-modern .ytp-tooltip.ytp-tooltip-progress-bar-style .ytp-tooltip-progress-bar-pill  {
			backdrop-filter: blur(pttblur) !important;
		}

		/*fix youtube enhancer (firefox plugin) tooltips*/
		[class="yte-button-tooltip ytp-tooltip ytp-bottom"]  {
	     	 background: none;
	  		 position: relative;
	 	 	 	&::before {
	       		    content: "";
	        		position: absolute;
	       			inset: 0;
	                backdrop-filter: blur(pttblur);
                    border-radius: 8px;
	                z-index: -1;
    			}
	    }
}
/*Remove miniplayer playlist border*/
if mpplborder {
		#container.ytd-playlist-panel-renderer{
			border: none;
		}
}
/*Enable Theming for Miniplayer Selected Video Colour Overlay*/
if mpplsel {
	ytd-playlist-panel-video-renderer{
		--yt-active-playlist-panel-background-color: mpplselc;
		--yt-lightsource-primary-title-color: mpplselct;
		--yt-lightsource-secondary-title-color: mpplselca;
	}
}











}
